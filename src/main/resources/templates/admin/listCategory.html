<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org">
<head th:include="admin/header::html('分类管理')">
    <meta charset="UTF-8">
    <title>商品分类</title>
</head>
<body>
<div th:replace="admin/navigator::html" > </div>

<div id="app">
    <h1 class="label label-info" style="left: 11px; position: relative;" >分类管理</h1>
    <br>
    <br>
<div class="listDataTableDiv">

    <table class="table table-striped table-bordered table-hover  table-condensed">
        <thead>
        <tr class="success">
            <th>ID</th>
            <th>图片</th>
            <th>分类名称</th>
            <th>属性管理</th>
            <th>产品管理</th>
            <th>编辑</th>
            <th>删除</th>
        </tr>
        </thead>
        <tbody>

        <tr v-for="item in categoryList">
            <td>{{item.id}}</td>
            <td>
<!--                <img height="40px"  :src="'img/category/'+item.id+'.jpg'">-->
            </td>
            <td>
                {{item.name}}
            </td>
            <td>
                <a :href="'admin_property_list?cid=' + item.id "><span class="glyphicon glyphicon-th-list"></span></a>
            </td>
            <td>
                <a :href="'admin_product_list?cid=' + item.id "><span class="glyphicon glyphicon-shopping-cart"></span></a>
            </td>
            <td>
                <a :href="'admin_category_edit?id=' + item.id "><span class="glyphicon glyphicon-edit"></span></a>
            </td>
            <td>
                <a href="#nowhere"  @click="deleteBean(item.id)"><span class="glyphicon glyphicon-trash"></span></a>
            </td>
        </tr>

        </tbody>
    </table>
</div>
</div>
<div th:replace="admin/footer::html" ></div>
</body>
<script>
    var vm = new Vue({
        el:'#app',
        data:{
            categoryList:[] //请求回来的categoryList
        },
        mounted:function(){
            this.listCategory()
        },
        methods:{
            listCategory(){
                var url = 'categoryList'
                axios.get(url).then(function (res) {
                    vm.categoryList = res.data.data;
                });
            }
        }
    });
</script>
</html>